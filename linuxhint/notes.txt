##Bash Scripting
# from https://youtu.be/e7BufAVwDiM

# covering the following topics:

1-Hello Bash Scripting
2-Redirect to file
3-Comments
4-Conditional Statements
5-Loops
6-Script input
7-Script output
8-how to send output from one script to another scrpt
9-String Processing
10-Numbers and Arithmetic
11-Declare Command
12-Arrays
13-Functions
14-Files and Directories
15-Send Email Via Script
16-Curl in Scripts
17-Professional Menus
18-Wait for filesystem events with inotify
19-Introduction to grep
20-Introduction to awk
21-Introduction to sed
22- Debugging bash scripts


$ cat /etc/shells
# /etc/shells: valid login shells
/bin/sh
/bin/dash
/bin/bash
/bin/rbash

# crontab -e
*/1 * * * *  /home/pi/repos/python-extras/linuxhint/./tree-cron.sh
# My first bash script
$ cat tree-cron.sh 
#!/bin/bash

cd ~/
echo `tree` >> tree.txt
echo `df -h /` >> tree.txt
echo `date` >> tree.txt
echo `ls -lah ~/tree.txt` >> tree.txt


# For case.sh run:
$ ./case.sh BMW
BMW
It's a BMW

# logrotate ;-)
https://www.thegeekstuff.com/2010/07/logrotate-examples/

# Add your file in /etc/logrotate.d/
$ cat custom-tree
/home/pi/tree-zip.txt {
maxsize 50M
daily
rotate 4
compress
notifempty
create
}
# You can manually run the logrotate using:
$ sudo logrotate -f /etc/logrotate.conf

# from https://www.networkworld.com/article/3218728/how-log-rotation-works-with-logrotate.html

# The important files to pay attention to are:

* /usr/sbin/logrotate -- the logrotate command itself (the executable)
* /etc/cron.daily/logrotate -- the shell script that runs logrotate on a daily basis (note that it might be /etc/cron.daily/logrotate.cron on some systems)
* /etc/logrotate.conf -- the log rotation configuration file

# Another important file is /etc/logrotate.d, included in the process through this line in the /etc/logrotate.conf file:

include /etc/logrotate.d

# more cron stuff related to logrotate:
pi@raspberrypi:/etc/logrotate.d $ ll /etc/cron*
-rw-r--r-- 1 root root  722 May 19  2015 /etc/crontab

/etc/cron.d:
total 4
-rw-r--r-- 1 root root 712 Jan  1  2017 php

/etc/cron.daily:
total 36
-rwxr-xr-x 1 root root  539 Jun 16  2019 apache2
-rwxr-xr-x 1 root root 1474 Sep 13  2017 apt-compat
-rwxr-xr-x 1 root root  314 Apr 18  2017 aptitude
-rwxr-xr-x 1 root root  355 Oct 25  2016 bsdmainutils
-rwxr-xr-x 1 root root 1597 Feb 22  2017 dpkg
-rwxr-xr-x 1 root root 2211 Apr 13  2014 locate
-rwxr-xr-x 1 root root   89 May  5  2015 logrotate
-rwxr-xr-x 1 root root 1065 Dec 13  2016 man-db
-rwxr-xr-x 1 root root  249 May 17  2017 passwd

/etc/cron.hourly:
total 4
-rwxr-xr-x 1 root root 191 Feb 22  2012 fake-hwclock

/etc/cron.monthly:
total 0

/etc/cron.weekly:
total 4
-rwxr-xr-x 1 root root 723 Dec 13  2016 man-db
pi@raspberrypi:/etc/logrotate.d $ ll /etc/cron*/*
-rwxr-xr-x 1 root root  539 Jun 16  2019 /etc/cron.daily/apache2
-rwxr-xr-x 1 root root 1474 Sep 13  2017 /etc/cron.daily/apt-compat
-rwxr-xr-x 1 root root  314 Apr 18  2017 /etc/cron.daily/aptitude
-rwxr-xr-x 1 root root  355 Oct 25  2016 /etc/cron.daily/bsdmainutils
-rwxr-xr-x 1 root root 1597 Feb 22  2017 /etc/cron.daily/dpkg
-rwxr-xr-x 1 root root 2211 Apr 13  2014 /etc/cron.daily/locate
-rwxr-xr-x 1 root root   89 May  5  2015 /etc/cron.daily/logrotate
-rwxr-xr-x 1 root root 1065 Dec 13  2016 /etc/cron.daily/man-db
-rwxr-xr-x 1 root root  249 May 17  2017 /etc/cron.daily/passwd
-rw-r--r-- 1 root root  712 Jan  1  2017 /etc/cron.d/php
-rwxr-xr-x 1 root root  191 Feb 22  2012 /etc/cron.hourly/fake-hwclock
-rwxr-xr-x 1 root root  723 Dec 13  2016 /etc/cron.weekly/man-db


